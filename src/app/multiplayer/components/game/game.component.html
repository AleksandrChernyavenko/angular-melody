<div class="row container-fluid game-container">

    <div class="col-xm-3 col-sm-3 col-md-3">
        <user-list [users]="getOrderedUsers()" [currentUserId]="currentUser?.id"></user-list>
    </div>

    <div class="col-xm-9 col-sm-9 col-md-9">

        <div class="row">
            <div class="col-xs-8">
                <h3>Выберите верный вариант</h3>
                <div class="btn btn-success" (click)="inviteFriendToBattle()">Позвать друга в игру</div>
            </div>
            <div class="col-xs-4">
                <circle-timer class="pull-right" [currentNumber]="nextSongAt" size='small'></circle-timer>
            </div>
        </div>

        <quiz-variants [variants]="song?.Variants" (onVariantChoose)="chooseVariant($event)"></quiz-variants>


        <br>

        <chat (onMessage)="onSendMessage($event)" [messages]="newMessage" [currentUserName]="currentUser?.name"></chat>

    </div>

</div>



<show-friends-modal *ngIf="showFriendsModal" (onClose)="showFriendsModal = false" (onChooseUser)="sendInviteToFriend($event)"></show-friends-modal>

<div *ngIf="modalOpen" (click)="navigateBack()" class="modal fade bs-example-modal-lg in" tabindex="-1" style="display: block; padding-right: 15px;">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">×</span></button>
                <h4 class="modal-title" id="mySmallModalLabel">Обнаружен дубликат</h4></div>
            <div class="modal-body">
                Вы уже играете в эту игру. Возжно в другой вкладке ?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success">Ok</button>
            </div>
        </div>
    </div>
</div>
<div *ngIf="modalOpen" class="modal-backdrop fade in"></div>